#!/bin/bash

# Script per testare localmente con ngrok
echo "üîß SETUP TEST LOCALE CON NGROK"
echo "================================="
echo ""
echo "1Ô∏è‚É£ Installa ngrok:"
echo "   wget https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-linux-amd64.tgz"
echo "   tar -xvf ngrok-v3-stable-linux-amd64.tgz"
echo "   sudo mv ngrok /usr/local/bin/"
echo ""
echo "2Ô∏è‚É£ Avvia server locale:"
echo "   npm run dev"
echo ""
echo "3Ô∏è‚É£ In altro terminale, avvia ngrok:"
echo "   ngrok http 3000"
echo ""
echo "4Ô∏è‚É£ Copia URL HTTPS da ngrok e usa:"
echo "   node scripts/setup-new-webhook.mjs https://TUO_URL_NGROK.ngrok.io"
echo ""
echo "5Ô∏è‚É£ Testa:"
echo "   curl -X POST \"https://TUO_URL_NGROK.ngrok.io/api/notify/test\" \\"
echo "        -H \"x-dj-user: test\" \\"
echo "        -H \"x-dj-secret: 77\""
echo ""
echo "‚ö†Ô∏è  NOTA: Questo √® solo per test. Per produzione serve Vercel funzionante."